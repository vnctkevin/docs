---
title: "Evm Web3 Provider"
---
  
  # EVM Web3 Provider

# [Overview](#overview)

Popular blockchain choices for building Web3 capabilities are based typically on the Ethereum Virtual Machine (EVM), and therefore share the development tech stack.

Some examples of EVM blockchains:

*   Ethereum
*   BNB Chain (BSC)
*   Polygon
*   Avalanche
*   Arbitrum

# [Convenience libraries](#convenience-libraries)

Most commonly, developers interact with EVM-based blockchains using "convenience libraries" such as [web3.js](https://web3js.readthedocs.io/) and [ethers.js](https://docs.ethers.io).

To streamline your JavaScript development experience, we created the <a target="_self" href="https://github.com/fireblocks/fireblocks-web3-provider">Fireblocks Web3 Provider</a>, to easily connect <button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">ethers.js</code> and <button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">web3.js</code> to your Fireblocks workspace.

# [web3.js integration](#web3js-integration)

The <a target="_self" href="https://github.com/fireblocks/fireblocks-web3-provider">Fireblocks Web3 Provider</a> helps seamlessly integrate Fireblocks into your <a target="_self" href="https://web3js.readthedocs.io/"><button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">web3.js</code></a> development stack. Use it to deploy contracts, sign messages, and send transactions.

### [Installation](#installation)
<CodeGroup>
```javascript
npm install @fireblocks/fireblocks-web3-provider web3

```
</CodeGroup>### [Setup](#setup)
<CodeGroup>
```javascript
import { FireblocksWeb3Provider, ChainId, ApiBaseUrl } from "@fireblocks/fireblocks-web3-provider";

const eip1193Provider = new FireblocksWeb3Provider({
    apiBaseUrl: ApiBaseUrl.Sandbox, // If using a sandbox workspace
    privateKey: process.env.FIREBLOCKS_API_PRIVATE_KEY_PATH,
    apiKey: process.env.FIREBLOCKS_API_KEY,
    vaultAccountIds: process.env.FIREBLOCKS_VAULT_ACCOUNT_IDS,
    chainId: ChainId.SEPOLIA,
})

```
</CodeGroup>

If you are not using a Sandbox environment, but rather a regular one, just comment the apiBaseUrl line.

### [Usage](#usage)
<CodeGroup>
```javascript
import Web3 from "web3";

const web3 = new Web3(eip1193Provider);

```
</CodeGroup>

Now you can use the <button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">web3</code> object exactly as you normally would!

### [Example](#example)

In this example we are executing the 'approve' method of [USDC](https://goerli.etherscan.io/address/0x07865c6E87B9F70255377e024ace6630C1Eaa37F#writeProxyContract) (ERC20) token on Sepolia by using web3.js and Fireblocks web3 provider.

<CodeGroup>
```javascript
const { FireblocksWeb3Provider, ChainId, ApiBaseUrl } = require("@fireblocks/fireblocks-web3-provider")
const Web3 = require("web3");

// Import the Sepolia USDC ABI
const ABI = require("./USDC_SEPOLIA_ABI.json");

// Sepolia USDC Contract Address
const CONTRACT_ADDRESS = "0x94a9d9ac8a22534e3faca9f4e7f2e2cf85d5e4c8"

const eip1193Provider = new FireblocksWeb3Provider({
    privateKey: process.env.FIREBLOCKS_API_PRIVATE_KEY_PATH,
    apiKey: process.env.FIREBLOCKS_API_KEY,
    vaultAccountIds: process.env.FIREBLOCKS_VAULT_ACCOUNT_IDS,
    chainId: ChainId.SEPOLIA,
 // apiBaseUrl: ApiBaseUrl.Sandbox // If using a sandbox workspace
});


(async() => {
  
  	const web3 = new Web3(eip1193Provider);
  	const myAddr = await web3.eth.getAccounts()
  	const contract = new web3.eth.Contract(ABI, CONTRACT_ADDRESS);
  	const spenderAddr = "<spender_address>"

    // 1 USDC to approve 
    const amount = 1e6

    // Invoke approve method
    console.log(
        await contract.methods.approve(spenderAddr, amount).send({
            from: myAddr[0]
        })
    )

})().catch(error => {
    console.log(error)
});

```
</CodeGroup>  
# [ethers.js integration](#ethersjs-integration)

The <a target="_self" href="https://github.com/fireblocks/fireblocks-web3-provider">Fireblocks Web3 Provider</a> helps seamlessly integrate Fireblocks into your <a target="_self" href="https://docs.ethers.io/"><button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">ethers.js</code></a> development stack.

You can use it to deploy contracts, sign messages, and send transactions.

### [Installation](#installation-1)
<CodeGroup>
```javascript
npm install @fireblocks/fireblocks-web3-provider ethers@5

```
</CodeGroup>### [Setup](#setup-1)
<CodeGroup>
```javascript
import { FireblocksWeb3Provider, ChainId, ApiBaseUrl } from "@fireblocks/fireblocks-web3-provider";

const eip1193Provider = new FireblocksWeb3Provider({
    apiBaseUrl: ApiBaseUrl.Sandbox, // If using a sandbox workspace
    privateKey: process.env.FIREBLOCKS_API_PRIVATE_KEY_PATH,
    apiKey: process.env.FIREBLOCKS_API_KEY,
    vaultAccountIds: process.env.FIREBLOCKS_VAULT_ACCOUNT_IDS,
    chainId: ChainId.SEPOLIA,
})

```
</CodeGroup>

If you are not using a Sandbox environment, but rather a regular one, just comment the apiBaseUrl line.

### [Usage](#usage-1)
<CodeGroup>
```javascript
import * as ethers from "ethers"

const provider = new ethers.providers.Web3Provider(eip1193Provider);

```
</CodeGroup>

Now you can use the <button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">provider</code> object exactly as you normally would!

### [Example](#example-1)

In this example we are executing the 'approve' method of [USDC](https://goerli.etherscan.io/address/0x07865c6E87B9F70255377e024ace6630C1Eaa37F#writeProxyContract) (ERC20) token on Sepolia by using ethers.js and Fireblocks web3 provider.

<CodeGroup>
```javascript
const { FireblocksWeb3Provider, ChainId, ApiBaseUrl } = require("@fireblocks/fireblocks-web3-provider")
const ethers = require("ethers")

// Import the Sepolia USDC ABI
const ABI = require("./USDC_SEPOLIA_ABI.json");

// Sepolia USDC Contract Address
const CONTRACT_ADDRESS = "0x94a9d9ac8a22534e3faca9f4e7f2e2cf85d5e4c8"

const eip1193Provider = new FireblocksWeb3Provider({
    privateKey: process.env.FIREBLOCKS_API_PRIVATE_KEY_PATH,
    apiKey: process.env.FIREBLOCKS_API_KEY,
    vaultAccountIds: process.env.FIREBLOCKS_VAULT_ACCOUNT_IDS,
    chainId: ChainId.SEPOLIA,
 // apiBaseUrl: ApiBaseUrl.Sandbox // If using a sandbox workspace
});


(async() => {

    const provider = new ethers.providers.Web3Provider(eip1193Provider);
    const myContract = new ethers.Contract(CONTRACT_ADDRESS, ABI, provider.getSigner());
    const spenderAddr = "<spender_address>"

    // 1 USDC to approve 
    const amount = 1e6

    // Invoke approve method
    const tx = await myContract.approve(
        spenderAddr,
        amount
    )
   
    console.log(JSON.stringify(tx, null, 2))

})().catch(error => {
    console.log(error)
});

```
</CodeGroup>  
# [Viem integration](#viem-integration)

The [Fireblocks Web3 Provider](https://github.com/fireblocks/fireblocks-web3-provider) helps seamlessly integrate Fireblocks into your [viem](https://viem.sh/) development stack.

You can use it to deploy contracts, sign messages, and send transactions.

### [Installation](#installation-2)
<CodeGroup>
```javascript
npm install @fireblocks/fireblocks-web3-provider viem

```
</CodeGroup>### [Setup](#setup-2)
<CodeGroup>
```javascript
import { FireblocksWeb3Provider, ChainId, ApiBaseUrl } from "@fireblocks/fireblocks-web3-provider";

const eip1193Provider = new FireblocksWeb3Provider({
    apiBaseUrl: ApiBaseUrl.Sandbox, // If using a sandbox workspace
    privateKey: process.env.FIREBLOCKS_API_PRIVATE_KEY_PATH,
    apiKey: process.env.FIREBLOCKS_API_KEY,
    vaultAccountIds: process.env.FIREBLOCKS_VAULT_ACCOUNT_IDS,
    chainId: ChainId.SEPOLIA,
})

```
</CodeGroup>

If you are not using a Sandbox environment, but rather a regular one, just comment the apiBaseUrl line.

### [Usage](#usage-2)
<CodeGroup>
```javascript
const { createWalletClient, custom } = require("viem")
const { sepolia } = require("viem/chains")

const walletClient = createWalletClient({
    chain: sepolia,
    transport: custom(eip1193Provider),
});

```
</CodeGroup>

Now you can use the <button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">walletClient</code> object exactly as you normally would!

### [Example](#example-2)

In this example we are executing the 'approve' method of [USDC](https://goerli.etherscan.io/address/0x07865c6E87B9F70255377e024ace6630C1Eaa37F#writeProxyContract) (ERC20) token on Sepolia by using _viem_ and Fireblocks web3 provider.

<CodeGroup>
```javascript
const { sepolia } = require("viem/chains")
const {
  ChainId,
  FireblocksWeb3Provider,
  ApiBaseUrl
} = require("@fireblocks/fireblocks-web3-provider")

const { 
  createWalletClient, 
  custom, 
  createPublicClient, 
  http 
} = require("viem")


// Import the Sepolia USDC ABI
const ABI = require("./USDC_SEPOLIA_ABI.json");

// Sepolia USDC Contract Address
const CONTRACT_ADDRESS = '0x94a9d9ac8a22534e3faca9f4e7f2e2cf85d5e4c8'

(async () => {

  const spenderAddr = "<spender_addr>";
  
  // 1 USDC to approve
  const amount = 1e6;
  
  const eip1193Provider = new FireblocksWeb3Provider({
   // apiBaseUrl: ApiBaseUrl.Sandbox, // If using a sandbox workspace
    privateKey: process.env.FIREBLOCKS_API_PRIVATE_KEY_PATH,
    apiKey: process.env.FIREBLOCKS_API_KEY,
    vaultAccountIds: process.env.FIREBLOCKS_VAULT_ACCOUNT_IDS,
    chainId: ChainId.SEPOLIA
  });
  
  // Create wallet client instance
  const walletClient = createWalletClient({
    chain: sepolia,
    transport: custom(eip1193Provider),
  });
  
  // Create public client instance
  const publicClient = createPublicClient({
    chain: sepolia,
    transport: http()
  })
  
  // Get my account's address
  const [ account ] = await walletClient.getAddresses();
  
  // Simulate the 'approve' call
  const { request } = await publicClient.simulateContract({
    address: CONTRACT_ADDRESS,
    abi: ABI,
    functionName: 'approve',
    args: [spenderAddr, amount],
    account
  })

  // Execute approve call via Fireblocks
  await walletClient.writeContract(request)
})();


```
</CodeGroup># [Ethereum Smart Contract Development](#ethereum-smart-contract-development)

Smart contract development frameworks make it easy to develop, test, and deploy smart contracts on EVM-based blockchains.

# [Using Truffle](#using-truffle)

Use the [Fireblocks Web3 Provider](https://github.com/fireblocks/fireblocks-web3-provider) to seamlessly work with Truffle on top of Fireblocks.

### [Installation](#installation-3)
<CodeGroup>
```shell
npm install -g truffle
npm install @fireblocks/fireblocks-web3-provider

```
</CodeGroup>## [Configuration](#configuration)
### [Step 1:](#step-1)

Set the [environment variables](https://github.com/fireblocks/fireblocks-json-rpc/blob/main/.env.example)

### [Step 2:](#step-2)

Initialize an example Truffle NFT project:

<CodeGroup>
```shell
truffle unbox nft-box

```
</CodeGroup>### [Step 3:](#step-3)

Edit the **truffle-config.js** file:

<CodeGroup>
```shell
require('dotenv').config();
const { FireblocksWeb3Provider, ChainId } = require("@fireblocks/fireblocks-web3-provider");

module.exports = {
  networks: {
    sepolia: {
      provider: () => new FireblocksWeb3Provider({
        privateKey: process.env.FIREBLOCKS_API_PRIVATE_KEY_PATH,
        apiKey: process.env.FIREBLOCKS_API_KEY,
        vaultAccountIds: process.env.FIREBLOCKS_VAULT_ACCOUNT_IDS,
        chainId: ChainId.SEPOLIA,
      }),
      network_id: ChainId.SEPOLIA,
    },
  },
  compilers: {
    solc: {
      version: "0.8.13"
    }
  },
};


```
</CodeGroup>### [Usage:](#usage-3)
<CodeGroup>
```shell
truffle migrate --network sepolia

```
</CodeGroup>